(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{22:function(t,e,n){t.exports={contactList:"ContactList_contactList__D-c7d",contactData:"ContactList_contactData__1SvS3",enter:"ContactList_enter__3_AQI",enterActive:"ContactList_enterActive__1He1A",exit:"ContactList_exit__3rZxM",exitActive:"ContactList_exitActive__3w-LP"}},23:function(t,e,n){t.exports={contact:"ContactEditorElement_contact__1nDfH",form:"ContactEditorElement_form__1G_ZG"}},24:function(t,e,n){t.exports={notification:"Notification_notification__3pF-Y",enter:"Notification_enter__wWJLN",enterActive:"Notification_enterActive__3SUrw",exit:"Notification_exit__1Ywq7",exitActive:"Notification_exitActive__37uFq"}},34:function(t,e,n){t.exports={search:"Filter_search__2h1N_"}},37:function(t,e,n){t.exports={appear:"ContactEditor_appear__11H-8",appearActive:"ContactEditor_appearActive__2HYSd"}},38:function(t,e,n){t.exports={enter:"App_enter__rTMJ4",enterActive:"App_enterActive__1yHy7",exit:"App_exit__8XHlA",exitActive:"App_exitActive__HOOvK"}},51:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c,a,i,r=n(0),o=n(10),s=n(9),u=n.n(s),b=(n(51),n(22)),l=n.n(b),j=n(73),d=n(72),f=n(14),O=function(t){return t.contacts.items},m=function(t){return t.contacts.filter},h={getLoading:function(t){return t.contacts.loading},getItems:O,getValue:m,getFilteredContacts:Object(f.a)([O,m],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},p=n(1),_=function(t){var e=t.idx,n=t.number,c=t.name,a=t.id,i=t.onDelete;return Object(p.jsxs)("li",{children:[Object(p.jsxs)("p",{children:[e+1,".  Name: ",c]}),Object(p.jsxs)("p",{children:["  ",n]}),Object(p.jsx)("button",{type:"button",onClick:i,"data-id":a,children:"x"})]})},x=n(8),g=n(16),v=n.n(g),C=n(3),A=Object(C.b)("contacts/addRequest"),y=Object(C.b)("contacts/addSuccess"),N=Object(C.b)("contacts/addFailure"),S=Object(C.b)("contacts/getRequest"),L=Object(C.b)("contacts/getSuccess"),w=Object(C.b)("contacts/getFailure"),F=Object(C.b)("contacts/deleteRequest"),E=Object(C.b)("contacts/deleteSuccess"),H=Object(C.b)("contacts/deleteFailure"),V=Object(C.b)("contacts/filter"),D=Object(o.b)((function(t){return{contacts:h.getFilteredContacts(t)}}),(function(t){return{deleteContact:function(e){t(function(t){return function(e){e(F()),v.a.delete("https://goit-react-hw-07-phonebo-9e664-default-rtdb.firebaseio.com/contacts/".concat(t,".json")).then((function(){return e(E(t))})).catch((function(t){return e(H(t))}))}}(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact,c=function(t){var e=t.target.dataset.id;n(e)};return Object(p.jsx)(j.a,{component:"ul",className:l.a.contactData,children:e.map((function(t,e){var n=t.id,a=t.name,i=t.number;return Object(p.jsx)(d.a,{timeout:1e3,classNames:l.a,children:Object(p.jsx)(_,{id:n,name:a,number:i,idx:e,onDelete:c})},n)}))})})),k=n(34),T=n.n(k),R={onChange:V},q=Object(o.b)((function(t){return{value:h.getValue(t),items:h.getItems(t)}}),R)((function(t){var e=t.items,n=t.value,c=t.onChange;return Object(p.jsx)("div",{children:e.length>=1&&Object(p.jsx)("input",{className:T.a.search,type:"text",value:n,placeholder:"Search by name",onChange:function(t){return c(t.target.value)}})})})),I=n(2),J=n(35),M=n(36),Y=n(40),B=n(39),G=n(23),K=n.n(G),P=function(t){var e=t.name,n=t.number,c=t.onChange,a=t.onHandelChange;return Object(p.jsx)("div",{className:K.a.contact,children:Object(p.jsxs)("form",{className:K.a.form,onSubmit:c,children:[Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",name:"name",value:e,placeholder:"Name",onChange:a})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"tel",name:"number",value:n,placeholder:"Number",onChange:a})}),Object(p.jsx)("button",{type:"submit",children:"Add contact "})]})})},Z=n(37),Q=n.n(Z),U=n(24),W=n.n(U),X=function(t){var e=t.isVisible,n=t.message;return Object(p.jsx)(d.a,{in:e,timeout:250,classNames:W.a,unmountOnExit:!0,children:Object(p.jsx)("div",{className:W.a.notification,children:n})})},z=function(){return Object(p.jsx)("h2",{className:"title",children:"PHONEBOOK"})},$={name:"",number:""},tt=function(t){Object(Y.a)(n,t);var e=Object(B.a)(n);function n(){var t;Object(J.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state=Object(x.a)({},$),t.onHandelChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(I.a)({},c,a))},t.handelSubmit=function(e){e.preventDefault(),t.props.items.find((function(e){return e.name===t.state.name}))?(setTimeout((function(){return t.setState({isVisible:!0,message:"Contact already exists"})}),500),setTimeout((function(){return t.setState({isVisible:!1})}),2e3),t.setState(Object(x.a)({},$))):t.state.name.length?t.state.number.length?(t.props.onAddForm(t.state),t.setState(Object(x.a)({},$))):(setTimeout((function(){return t.setState({isVisible:!0,message:"Fill number field"})}),500),setTimeout((function(){return t.setState({isVisible:!1})}),3e3),t.setState(Object(x.a)({},$))):(setTimeout((function(){return t.setState({isVisible:!0,message:"Fill name field"})}),500),setTimeout((function(){return t.setState({isVisible:!1})}),3e3),t.setState(Object(x.a)({},$)))},t}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.props.getContacts()}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(X,{isVisible:this.state.isVisible,message:this.state.message}),Object(p.jsx)(d.a,{in:!0,appear:!0,classNames:Q.a,timeout:500,unmountOnExit:!0,children:Object(p.jsx)(z,{})}),this.props.error&&Object(p.jsx)("h2",{children:"ERROR."}),this.props.isLoadingContacts&&Object(p.jsx)("h2",{children:"Loading..."}),Object(p.jsx)(P,{name:this.state.name,number:this.state.number,onChange:this.handelSubmit,onHandelChange:this.onHandelChange})]})}}]),n}(r.Component),et={onAddForm:function(t){return function(e){e(A()),v.a.post("https://goit-react-hw-07-phonebo-9e664-default-rtdb.firebaseio.com/contacts.json",t).then((function(n){return e(y(Object(x.a)(Object(x.a)({},t),{},{id:n.data.name})))})).catch((function(t){return e(N(t))}))}},getContacts:function(){return function(t){t(S()),v.a.get("https://goit-react-hw-07-phonebo-9e664-default-rtdb.firebaseio.com/contacts.json").then((function(e){return t(L(Object.keys(e.data).map((function(t){return Object(x.a)(Object(x.a)({},e.data[t]),{},{id:t})}))))})).catch((function(e){return t(w(e))}))}}},nt=Object(o.b)((function(t){return{items:h.getItems(t),isLoadingContacts:h.getLoading(t),error:t.contacts.error}}),et)(tt),ct=n(38),at=n.n(ct),it=function(){return Object(p.jsxs)("div",{className:"layout",children:[Object(p.jsx)(nt,{}),Object(p.jsx)(d.a,{in:!0,timeout:3e3,classNames:at.a,unmountOnExit:!0,children:Object(p.jsx)(q,{})}),Object(p.jsx)(D,{})]})},rt=n(15),ot=n(7),st=Object(C.c)([],(c={},Object(I.a)(c,y,(function(t,e){return[].concat(Object(rt.a)(t),[e.payload])})),Object(I.a)(c,L,(function(t,e){return e.payload})),Object(I.a)(c,E,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),ut=Object(C.c)(!1,(a={},Object(I.a)(a,A,(function(){return!0})),Object(I.a)(a,y,(function(){return!1})),Object(I.a)(a,N,(function(){return!1})),Object(I.a)(a,S,(function(){return!0})),Object(I.a)(a,L,(function(){return!1})),Object(I.a)(a,w,(function(){return!1})),Object(I.a)(a,F,(function(){return!0})),Object(I.a)(a,E,(function(){return!1})),Object(I.a)(a,H,(function(){return!1})),a)),bt=Object(C.c)(null,(i={},Object(I.a)(i,N,(function(t,e){var n=e.payload;return bt?n:null})),Object(I.a)(i,w,(function(t,e){var n=e.payload;return bt?n:null})),Object(I.a)(i,H,(function(t,e){var n=e.payload;return bt?n:null})),i)),lt=Object(C.c)("",Object(I.a)({},V,(function(t,e){return e.payload}))),jt=Object(ot.c)({items:st,loading:ut,filter:lt,error:bt}),dt=Object(C.d)(),ft=Object(C.a)({reducer:{contacts:jt},middleware:Object(rt.a)(dt)});u.a.render(Object(p.jsx)(o.a,{store:ft,children:Object(p.jsx)(it,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.7367958b.chunk.js.map